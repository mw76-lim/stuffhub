<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ì‚¬ë‹¤ë¦¬ íƒ€ê¸° (í•˜ë“œ ëª¨ë“œ + 5ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      * { box-sizing: border-box; margin: 0; padding: 0; }

      body{
        min-height:100vh;
        display:flex;
        align-items:flex-start;
        justify-content:center;
        padding: 22px;
        background:#f7f2ea;
        font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
        color:#3a2415;
      }

      .game-shell{
        width:100%;
        max-width:1100px;
        padding: 28px 24px 22px;
        background:#fffaf5;
        border-radius:24px;
        border:1px solid rgba(193,160,120,.6);
        box-shadow:0 16px 40px rgba(120,72,37,.18);
      }

      .game-header{ text-align:center; margin-bottom:14px; }
      .game-title{ font-size:22px; font-weight:900; letter-spacing:-.03em; margin-bottom:6px; }
      .game-sub{ font-size:13px; color:#6b4a30; line-height:1.5; }

      .top-row{
        margin-top:14px;
        display:grid;
        grid-template-columns: 1fr 320px;
        gap:16px;
        align-items:stretch;
      }
      @media (max-width: 980px){
        .top-row{ grid-template-columns: 1fr; }
      }

      .board{
        border-radius:18px;
        background: radial-gradient(circle at top, #f4e4cf, #e2c6a7);
        box-shadow: inset 0 3px 6px rgba(255,255,255,.6);
        padding:14px;
        position:relative;
      }

      /* ===== ì¹´ìš´íŠ¸ë‹¤ìš´ + ì„ íƒ ë²„íŠ¼ ===== */
      .hud{
        display:flex;
        flex-wrap:wrap;
        align-items:center;
        justify-content:space-between;
        gap:10px;
        margin-bottom: 10px;
      }

      .timer-pill{
        display:inline-flex;
        align-items:center;
        gap:10px;
        padding:10px 12px;
        border-radius:999px;
        background:#fff;
        border:1px solid rgba(193,160,120,.55);
        font-size:13px;
        color:#6b4a30;
      }
      .timer-pill strong{ color:#b45309; }
      .timer-dot{
        width:10px; height:10px; border-radius:999px;
        background:#22c55e;
        box-shadow: 0 0 0 4px rgba(34,197,94,.15);
      }
      .timer-pill.danger .timer-dot{
        background:#ef4444;
        box-shadow: 0 0 0 4px rgba(239,68,68,.15);
      }

      .pick-row{
        display:flex;
        justify-content:center;
        gap:10px;
        flex-wrap:wrap;
        margin: 10px 0 12px;
      }
      .pick-btn{
        border-radius:999px;
        padding:10px 14px;
        font-size:13px;
        border:1px solid rgba(148,104,63,.7);
        background:#fff;
        color:#3a2415;
        font-weight:900;
        cursor:pointer;
        display:inline-flex;
        align-items:center;
        gap:6px;
        transition:.15s ease;
      }
      .pick-btn:hover{ transform: translateY(-1px); }
      .pick-btn[disabled]{ opacity:.55; cursor:default; transform:none; }

      /* ===== ìº”ë²„ìŠ¤ ìŠ¤í¬ë¡¤ ì˜ì—­(ì„¸ë¡œ ê¸¸ê²Œ) ===== */
      .canvas-scroll{
        max-height: 760px; /* ê¸¸ì–´ì ¸ë„ ìŠ¤í¬ë¡¤ë¡œ ë³´ê¸° */
        overflow:auto;
        border-radius:16px;
        background: rgba(255,255,255,.55);
        border: 1px solid rgba(193,160,120,.55);
        padding: 12px;
      }
      canvas{
        width:100%;
        height:auto;
        display:block;
        border-radius:12px;
        background:#151515;
      }

      .side{
        border-radius:18px;
        border:1px solid rgba(193,160,120,.6);
        background:#fff7ec;
        padding:14px;
        display:flex;
        flex-direction:column;
        gap:12px;
      }
      .side h3{ font-size:14px; font-weight:900; letter-spacing:-.02em; }

      .prize-list{ display:grid; gap:8px; font-size:13px; color:#6b4a30; }
      .prize-item{
        display:flex; align-items:center; justify-content:space-between;
        background:#fff;
        border:1px solid rgba(193,160,120,.45);
        border-radius:12px;
        padding:10px 10px;
        gap:10px;
      }
      .prize-item strong{ color:#3a2415; }
      .badge{
        font-size:11px; padding:6px 10px; border-radius:999px;
        border:1px solid rgba(193,160,120,.6);
        background:#faf6f0;
        color:#6b4a30;
        white-space:nowrap;
      }

      .actions{
        display:flex; gap:10px; flex-wrap:wrap;
      }
      .btn{
        border-radius:999px;
        padding:10px 14px;
        font-size:13px;
        border:1px solid rgba(148,104,63,.7);
        background:#fff;
        color:#3a2415;
        font-weight:900;
        cursor:pointer;
        display:inline-flex; align-items:center; gap:8px;
        transition:.15s ease;
      }
      .btn.primary{
        background: linear-gradient(120deg, #f97316, #fbbf24);
        border-color: transparent;
        color:#3b1f0a;
        box-shadow: 0 10px 24px rgba(201,93,39,.5);
      }
      .btn:hover:not([disabled]){ transform: translateY(-1px); }
      .btn[disabled]{ opacity:.55; cursor:default; transform:none; box-shadow:none; }

      .result{
        padding:12px 14px;
        border-radius:16px;
        background:#fff;
        border:1px solid rgba(193,160,120,.55);
        font-size:13px;
        color:#6b4a30;
        line-height:1.6;
        min-height:54px;
      }
      .result strong{ color:#b45309; }

      .hint{
        margin-top:10px;
        font-size:11px;
        color:#8b6544;
        text-align:center;
        line-height:1.5;
      }
    </style>
  </head>
  <body>
    <div class="game-shell">
      <header class="game-header">
        <h1 class="game-title">ì‚¬ë‹¤ë¦¬ íƒ€ê¸° (í•˜ë“œ ëª¨ë“œ)</h1>
        <p class="game-sub">
          ì‚¬ë‹¤ë¦¬ê°€ ê¸¸ê³  ë³µì¡í•´ì„œ ëˆˆìœ¼ë¡œ ë”°ë¼ê°€ê¸° ì–´ë µê²Œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.<br />
          <strong>ë¼ìš´ë“œ ì‹œì‘</strong>ì„ ëˆ„ë¥´ë©´ <strong>5ì´ˆ ì•ˆì—</strong> STARTë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.
        </p>
      </header>

      <div class="top-row">
        <section class="board">
          <div class="hud">
            <div class="timer-pill" id="timerPill" aria-live="polite">
              <span class="timer-dot" aria-hidden="true"></span>
              ë‚¨ì€ ì„ íƒ ì‹œê°„: <strong id="timerText">-</strong>
            </div>
            <div class="actions">
              <button class="btn primary" id="roundBtn">ë¼ìš´ë“œ ì‹œì‘ â±ï¸</button>
              <button class="btn" id="regenBtn">ì‚¬ë‹¤ë¦¬ ìƒˆë¡œ ë§Œë“¤ê¸° ğŸ”</button>
              <button class="btn" id="resetBtn">ì´ˆê¸°í™”</button>
            </div>
          </div>

          <div class="pick-row" id="pickRow">
            <button class="pick-btn" data-start="0" disabled>START 1</button>
            <button class="pick-btn" data-start="1" disabled>START 2</button>
            <button class="pick-btn" data-start="2" disabled>START 3</button>
            <button class="pick-btn" data-start="3" disabled>START 4</button>
            <button class="pick-btn" data-start="4" disabled>START 5</button>
            <button class="pick-btn" data-start="5" disabled>START 6</button>
          </div>

          <div class="canvas-scroll">
            <canvas id="ladderCanvas" width="1100" height="1600" aria-label="ì‚¬ë‹¤ë¦¬ ë³´ë“œ"></canvas>
          </div>

          <div class="hint">
            íŒ: ì´ ë²„ì „ì€ ì¼ë¶€ëŸ¬ ë³µì¡í•˜ê²Œ ë§Œë“¤ì–´ <strong>ëˆˆìœ¼ë¡œ ì¶”ì ì´ ì–´ë ¤ìš´</strong> â€œìš´+ì‹¬ë¦¬â€í˜• ê²Œì„ì— ê°€ê¹ìŠµë‹ˆë‹¤.
          </div>
        </section>

        <aside class="side">
          <div>
            <h3>ë„ì°© ê²°ê³¼(END 1~6)</h3>
            <div class="prize-list" id="prizeList"></div>
          </div>

          <div class="result" id="resultBox">
            <strong>ë¼ìš´ë“œ ì‹œì‘</strong>ì„ ëˆŒëŸ¬ 5ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ì„ ì‹œì‘í•˜ì„¸ìš”.
          </div>

          <div style="font-size:11px;color:#8b6544;line-height:1.5;">
            * ìš´ì˜ ì‹œì—ëŠ” â€œì¿ í° ë°œê¸‰/QRâ€ ë“±ê³¼ ì—°ê²°í•˜ë©´ ë©ë‹ˆë‹¤.<br />
            * ì´ ë²„ì „ì€ <strong>í”„ë¡ íŠ¸ ë‹¨ë…(HTML/CSS/JS)</strong> ë°ëª¨ì…ë‹ˆë‹¤.
          </div>
        </aside>
      </div>
    </div>

    <script>
      (() => {
        // ===== ë‚œì´ë„(ë³µì¡ë„) ì„¤ì • =====
        const COLS = 6;                 // ì„¸ë¡œì¤„ ê°œìˆ˜(START/END ê°œìˆ˜)
        const ROWS = 32;                // ì¸µ ìˆ˜ (ë†’ì´/ë³µì¡ë„)
        const RUNG_DENSITY = 0.68;       // ì¸µë§ˆë‹¤ ê°€ë¡œì¤„ ìƒì„± ì‹œë„ ë¹„ìœ¨ (ë†’ì„ìˆ˜ë¡ ë³µì¡)
        const ANIM_MS = 2300;           // ê²½ë¡œ ì• ë‹ˆë©”ì´ì…˜ ì‹œê°„
        const COUNTDOWN_SEC = 5;        // ì„ íƒ ì œí•œ ì‹œê°„

        // ìº”ë²„ìŠ¤ ë ˆì´ì•„ì›ƒ
        const MARGIN_X = 90;
        const TOP_Y = 55;
        const BOTTOM_Y = 1520;

        // ===== ë³´ìƒ(END 1~6) =====
        // ì—¬ê¸° ë¬¸êµ¬ë§Œ ë°”ê¾¸ë©´ ë¨.
        const prizesByEndCol = [
          { title: "ìº” ìŒë£Œ 1ê°œ", badge: "ì†Œì†Œ" },
          { title: "ë©´ë¥˜ 1ì ‘ì‹œ", badge: "ì¸ê¸°" },
          { title: "í¬ì¼“ í•«íŒ©", badge: "êµ¿ì¦ˆ" },
          { title: "ë‹¹ì¼ 5,000ì› í• ì¸", badge: "í• ì¸" },
          { title: "ë‹¤ìŒ ë°©ë¬¸ 30% í• ì¸", badge: "ì¬ë°©ë¬¸" },
          { title: "ë‹¤ìŒ ë°©ë¬¸ 50% í• ì¸", badge: "ëŒ€ë°•" },
        ];

        // ===== DOM =====
        const canvas = document.getElementById("ladderCanvas");
        const ctx = canvas.getContext("2d");

        const pickRow = document.getElementById("pickRow");
        const pickButtons = pickRow.querySelectorAll(".pick-btn");

        const prizeList = document.getElementById("prizeList");
        const resultBox = document.getElementById("resultBox");

        const regenBtn = document.getElementById("regenBtn");
        const resetBtn = document.getElementById("resetBtn");
        const roundBtn = document.getElementById("roundBtn");

        const timerPill = document.getElementById("timerPill");
        const timerText = document.getElementById("timerText");

        // ===== ìƒíƒœ =====
        // rungs[r] = Set of links at that row. link i means connect col i and i+1.
        // ì¸ì ‘ link(i)ì™€ link(i+1)ëŠ” ë™ì‹œì— í—ˆìš©í•˜ì§€ ì•ŠìŒ(êµì°¨/ê²¹ì¹¨ ë°©ì§€)
        let rungs = [];
        let animating = false;

        let countdownTimer = null;
        let roundActive = false; // ì¹´ìš´íŠ¸ë‹¤ìš´ ì§„í–‰ ì¤‘ ì„ íƒ ê°€ëŠ¥ ìƒíƒœ
        let deadline = 0;

        function drawPrizeList(){
          prizeList.innerHTML = "";
          prizesByEndCol.forEach((p, i) => {
            const el = document.createElement("div");
            el.className = "prize-item";
            el.innerHTML = `
              <div><strong>END ${i+1}</strong> Â· ${p.title}</div>
              <div class="badge">${p.badge}</div>
            `;
            prizeList.appendChild(el);
          });
        }

        function lerp(a,b,t){ return a + (b-a)*t; }

        function getColX(col){
          const usable = canvas.width - MARGIN_X * 2;
          const step = usable / (COLS - 1);
          return MARGIN_X + step * col;
        }

        function getRowY(rowIndex){
          const usable = BOTTOM_Y - TOP_Y;
          const step = usable / ROWS;
          return TOP_Y + step * rowIndex;
        }

        function generateLadder(){
          rungs = Array.from({length: ROWS + 1}, () => new Set());

          for(let r=1; r<=ROWS; r++){
            // í•œ ì¸µì—ì„œ ì—¬ëŸ¬ ê°œ ê°€ë¡œì¤„ì„ ë§Œë“¤ë˜, ì¸ì ‘ ê°€ë¡œì¤„ ê¸ˆì§€ ê·œì¹™
            // (ì˜ˆ: 0-1ê³¼ 1-2ê°€ ê°™ì€ ì¸µì— ë™ì‹œì— ìˆìœ¼ë©´ ë„ˆë¬´ ì—‰í‚¤ë¯€ë¡œ ë°©ì§€)
            const used = new Set();
            for(let i=0; i<COLS-1; i++){
              if (used.has(i) || used.has(i-1) || used.has(i+1)) continue;
              if (Math.random() < RUNG_DENSITY) {
                rungs[r].add(i);
                used.add(i);
              }
            }
          }
        }

        function drawStatic(){
          ctx.clearRect(0,0,canvas.width,canvas.height);

          // ë°°ê²½
          ctx.fillStyle = "#151515";
          ctx.fillRect(0,0,canvas.width,canvas.height);

          // START / END í…ìŠ¤íŠ¸
          ctx.font = "800 14px system-ui, -apple-system, Segoe UI, sans-serif";
          ctx.textAlign = "center";
          ctx.textBaseline = "middle";

          for(let c=0; c<COLS; c++){
            const x = getColX(c);
            ctx.fillStyle = "rgba(255,255,255,0.90)";
            ctx.fillText(`START ${c+1}`, x, TOP_Y - 22);

            ctx.fillStyle = "rgba(255,255,255,0.78)";
            ctx.fillText(`END ${c+1}`, x, BOTTOM_Y + 22);
          }

          // ì„¸ë¡œì¤„
          ctx.lineWidth = 6;
          ctx.lineCap = "round";
          ctx.strokeStyle = "rgba(255,255,255,0.82)";
          for(let c=0; c<COLS; c++){
            const x = getColX(c);
            ctx.beginPath();
            ctx.moveTo(x, TOP_Y);
            ctx.lineTo(x, BOTTOM_Y);
            ctx.stroke();
          }

          // ê°€ë¡œì¤„(ë°œíŒ) ë§ì´
          ctx.lineWidth = 6;
          ctx.strokeStyle = "rgba(249, 115, 22, 0.95)"; // ì˜¤ë Œì§€
          for(let r=1; r<=ROWS; r++){
            const y = getRowY(r);
            for(const link of rungs[r]){
              const x1 = getColX(link);
              const x2 = getColX(link+1);
              ctx.beginPath();
              ctx.moveTo(x1, y);
              ctx.lineTo(x2, y);
              ctx.stroke();
            }
          }
        }

        function buildPathPoints(startCol){
          const pts = [];
          let col = startCol;

          pts.push({x:getColX(col), y: TOP_Y});

          for(let r=1; r<=ROWS; r++){
            const y = getRowY(r);

            // ë‚´ë ¤ê°€ê¸°
            pts.push({x:getColX(col), y});

            // í•´ë‹¹ ì¸µì—ì„œ "ë‚´ê°€ ìˆëŠ” col" ê¸°ì¤€ìœ¼ë¡œ ì¢Œìš° ì´ë™ ê°€ëŠ¥ì„± ì²´í¬
            // link iëŠ” col i <-> i+1 ì—°ê²°
            // ë‚´ê°€ col=ië©´ ì˜¤ë¥¸ìª½ ì´ë™, col=i+1ì´ë©´ ì™¼ìª½ ì´ë™
            // í•œ ì¸µì—ì„œ ì—¬ëŸ¬ linkê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, í˜„ì¬ colì— í•´ë‹¹ë˜ëŠ” linkë§Œ ë°˜ì˜í•˜ë©´ ë¨.
            if (rungs[r].has(col)) {
              // colê³¼ col+1 ì—°ê²°ì´ ìˆìœ¼ë©´ ì˜¤ë¥¸ìª½
              col = col + 1;
              pts.push({x:getColX(col), y});
            } else if (rungs[r].has(col-1)) {
              // col-1ê³¼ col ì—°ê²°ì´ ìˆìœ¼ë©´ ì™¼ìª½
              col = col - 1;
              pts.push({x:getColX(col), y});
            }
          }

          // ìµœí•˜ë‹¨ ëì 
          pts.push({x:getColX(col), y: BOTTOM_Y});

          return { points: pts, endCol: col };
        }

        function polylineLength(points){
          let total = 0;
          for(let i=0;i<points.length-1;i++){
            total += Math.hypot(points[i+1].x - points[i].x, points[i+1].y - points[i].y);
          }
          return total;
        }

        function drawPathProgress(points, t){
          const total = polylineLength(points);
          const target = total * t;

          ctx.lineWidth = 9;
          ctx.lineCap = "round";
          ctx.strokeStyle = "rgba(250, 204, 21, 0.95)"; // ë…¸ë‘
          ctx.beginPath();

          let acc = 0;
          ctx.moveTo(points[0].x, points[0].y);

          for(let i=0;i<points.length-1;i++){
            const a = points[i], b = points[i+1];
            const seg = Math.hypot(b.x - a.x, b.y - a.y);

            if (acc + seg <= target){
              ctx.lineTo(b.x, b.y);
              acc += seg;
            } else {
              const remain = target - acc;
              const ratio = seg === 0 ? 1 : Math.max(0, Math.min(1, remain / seg));
              ctx.lineTo(lerp(a.x,b.x,ratio), lerp(a.y,b.y,ratio));
              break;
            }
          }
          ctx.stroke();

          // ë§ˆì»¤
          const marker = getMarker(points, t);
          if (marker){
            ctx.fillStyle = "rgba(255,255,255,0.92)";
            ctx.beginPath();
            ctx.arc(marker.x, marker.y, 7, 0, Math.PI*2);
            ctx.fill();
          }
        }

        function getMarker(points, t){
          const total = polylineLength(points);
          const target = total * t;
          let acc = 0;

          for(let i=0;i<points.length-1;i++){
            const a = points[i], b = points[i+1];
            const seg = Math.hypot(b.x - a.x, b.y - a.y);
            if (acc + seg >= target){
              const ratio = seg === 0 ? 1 : (target - acc) / seg;
              return { x: lerp(a.x,b.x,ratio), y: lerp(a.y,b.y,ratio) };
            }
            acc += seg;
          }
          return points[points.length-1];
        }

        function setButtonsEnabled(enabled){
          pickButtons.forEach(b => b.disabled = !enabled);
          regenBtn.disabled = !enabled;
          resetBtn.disabled = !enabled;
          roundBtn.disabled = !enabled && !roundActive; // ë¼ìš´ë“œ ì¤‘ì—ëŠ” roundBtn ë¹„í™œì„± ìœ ì§€
        }

        function setPickEnabled(enabled){
          pickButtons.forEach(b => b.disabled = !enabled);
        }

        function showResult(endCol, startCol){
          const prize = prizesByEndCol[endCol];
          resultBox.innerHTML =
            `START <strong>${startCol+1}</strong> â†’ END <strong>${endCol+1}</strong><br>` +
            `ê²°ê³¼: <strong>${prize.title}</strong> <span style="color:#8b6544;">(${prize.badge})</span>`;
        }

        function animatePath(startCol){
          if (animating) return;
          animating = true;
          setButtonsEnabled(false);

          const { points, endCol } = buildPathPoints(startCol);

          const start = performance.now();
          const easeOut = (x) => 1 - Math.pow(1 - x, 3);

          const tick = (now) => {
            const p = Math.min(1, (now - start) / ANIM_MS);
            const t = easeOut(p);

            drawStatic();
            drawPathProgress(points, t);

            if (p < 1){
              requestAnimationFrame(tick);
            } else {
              animating = false;
              setButtonsEnabled(true);
              showResult(endCol, startCol);
            }
          };

          requestAnimationFrame(tick);
        }

        // ===== ì¹´ìš´íŠ¸ë‹¤ìš´ =====
        function updateTimerUI(secLeft){
          if (secLeft <= 2){
            timerPill.classList.add("danger");
          } else {
            timerPill.classList.remove("danger");
          }
          timerText.textContent = `${secLeft.toFixed(0)}s`;
        }

        function stopCountdown(){
          if (countdownTimer) clearInterval(countdownTimer);
          countdownTimer = null;
          roundActive = false;
          timerPill.classList.remove("danger");
          timerText.textContent = "-";
          setPickEnabled(false);
          roundBtn.disabled = false;
        }

        function startRound(){
          if (animating) return;

          // ë¼ìš´ë“œ ì‹œì‘: 5ì´ˆ ë™ì•ˆë§Œ ì„ íƒ ê°€ëŠ¥
          roundActive = true;
          deadline = Date.now() + COUNTDOWN_SEC * 1000;

          setPickEnabled(true);
          roundBtn.disabled = true;

          resultBox.innerHTML = `â±ï¸ <strong>${COUNTDOWN_SEC}ì´ˆ</strong> ì•ˆì— STARTë¥¼ ì„ íƒí•˜ì„¸ìš”!`;
          updateTimerUI(COUNTDOWN_SEC);

          if (countdownTimer) clearInterval(countdownTimer);
          countdownTimer = setInterval(() => {
            const msLeft = deadline - Date.now();
            const secLeft = Math.max(0, Math.ceil(msLeft / 1000));
            updateTimerUI(secLeft);

            if (msLeft <= 0){
              clearInterval(countdownTimer);
              countdownTimer = null;
              roundActive = false;
              setPickEnabled(false);
              roundBtn.disabled = false;
              timerText.textContent = "0s";
              timerPill.classList.add("danger");
              resultBox.innerHTML = `â›” ì‹œê°„ ì´ˆê³¼! <strong>ë¼ìš´ë“œ ì‹œì‘</strong>ì„ ë‹¤ì‹œ ëˆŒëŸ¬ì£¼ì„¸ìš”.`;
            }
          }, 100);
        }

        // ===== ì´ë²¤íŠ¸ =====
        pickRow.addEventListener("click", (e) => {
          const btn = e.target.closest("button[data-start]");
          if (!btn) return;
          if (!roundActive) return;              // ì¹´ìš´íŠ¸ë‹¤ìš´ ì¤‘ì—ë§Œ ì„ íƒ ê°€ëŠ¥
          if (animating) return;

          // ì„ íƒ í™•ì •ë˜ë©´ ì¹´ìš´íŠ¸ë‹¤ìš´ ì¢…ë£Œ + ì„ íƒ ì ê¸ˆ
          const startCol = parseInt(btn.dataset.start, 10);
          stopCountdown();
          setPickEnabled(false);

          resultBox.textContent = "ê²½ë¡œë¥¼ ë”°ë¼ ë‚´ë ¤ê°€ëŠ” ì¤‘ì…ë‹ˆë‹¤...";
          // ë³´ë“œê°€ ê¸¸ì–´ì„œ ì‹œì‘ ì§€ì  ë³´ì´ê²Œ ë§¨ ìœ„ë¡œ ìŠ¤í¬ë¡¤(ì„ íƒ ì§í›„)
          document.querySelector(".canvas-scroll").scrollTo({ top: 0, behavior: "smooth" });

          animatePath(startCol);
        });

        regenBtn.addEventListener("click", () => {
          if (animating) return;
          stopCountdown();
          generateLadder();
          drawStatic();
          resultBox.innerHTML = `<strong>ë¼ìš´ë“œ ì‹œì‘</strong>ì„ ëˆŒëŸ¬ 5ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ì„ ì‹œì‘í•˜ì„¸ìš”.`;
        });

        resetBtn.addEventListener("click", () => {
          if (animating) return;
          stopCountdown();
          drawStatic();
          resultBox.innerHTML = `<strong>ë¼ìš´ë“œ ì‹œì‘</strong>ì„ ëˆŒëŸ¬ 5ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ì„ ì‹œì‘í•˜ì„¸ìš”.`;
        });

        roundBtn.addEventListener("click", () => {
          if (animating) return;
          startRound();
        });

        // ===== ì´ˆê¸°í™” =====
        drawPrizeList();
        generateLadder();
        drawStatic();
        setPickEnabled(false);
        timerText.textContent = "-";
      })();
    </script>
  </body>
</html>
